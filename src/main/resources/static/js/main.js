//var migUrl = "http://localhost:8082/";



//var urlPrefix = "http://localhost";

/*小鱼域名*/
/*var migUrl = "http://wx.xiaoyulaidian.com:8082/";/!*图片链接*!/
var urlPrefix = "http://wx.xiaoyulaidian.com";/!*普通链接*!/
var urlPay = "http://wx.xiaoyulaidian.com";/!*支付模块链接*!/
var urlCode = "http://wx.xiaoyulaidian.com";/!*設備链接*!/*/

/*云电吧域名*/
/*var migUrl = "http://sys.yundianba.club:8082/";/!*图片链接*!/
var urlPrefix = "http://sys.yundianba.club";/!*普通链接*!/
var urlPay = "http://wx.yundianba.club";/!*支付模块链接*!/
var urlCode = "http://sys.yundianba.club";/!*設備链接*!/*/

/*嘀嗒域名*/
/*var migUrl = "http://dida.yundianba.club:8082/";/!*图片链接*!/
var urlPrefix = "http://dida.yundianba.club";/!*普通链接*!/
var urlPay = "http://dida.yundianba.club";/!*支付模块链接*!/
var urlCode = "http://dida.yundianba.club";/!*設備链接*!/*/

/*猫电域名*/
/*var migUrl = "http://wx.maodiankj.com:8082/";/!*图片链接*!/
var urlPrefix = "http://wx.maodiankj.com";/!*普通链接*!/
var urlPay = "http://wx.maodiankj.com";/!*支付模块链接*!/
var urlCode = "http://wx.maodiankj.com";/!*設備链接*!/*/

/*云加电域名*/
/*var migUrl = "http://www.yunjiadian.net.cn:8082/"; /!*图片链接*!/
var urlPrefix = "http://www.yunjiadian.net.cn";/!*普通链接*!/
var urlPay = "http://www.yunjiadian.net.cn";/!*支付模块链接*!/
var urlCode = "http://www.yunjiadian.net.cn";/!*設備链接*!/*/

/*电充充域名*/
/*var migUrl = "http://wx.dianchongchong.net:8082/";/!*图片链接*!/
var urlPrefix = "http://wx.dianchongchong.net";/!*普通链接*!/
var urlPay = "http://wx.dianchongchong.net";/!*支付模块链接*!/
var urlCode = "http://wx.dianchongchong.net";/!*設備链接*!/*/

/*乐充域名*/
/*var migUrl = "http://wx.lechongkj.com:8082/";/!*图片链接*!/
var urlPrefix = "http://wx.lechongkj.com";/!*普通链接*!/
var urlPay = "http://wx.lechongkj.com";/!*支付模块链接*!/
var urlCode = "http://wx.lechongkj.com";/!*設備链接*!/*/

/*街充域名*/
/*var migUrl = "http://wx.jiechong.vip:8082/";/!*图片链接*!/
var urlPrefix = "http://wx.jiechong.vip";/!*普通链接*!/
var urlPay = "http://wx.jiechong.vip";/!*支付模块链接*!/
var urlCode = "http://wx.jiechong.vip";/!*設備链接*!/*/

/*诚电科技域名*/
/*var migUrl = "http://wx.chengdiankj.cn:8082/";/!*图片链接*!/
var urlPrefix = "http://wx.chengdiankj.cn";/!*普通链接*!/
var urlPay = "http://wx.chengdiankj.cn";/!*支付模块链接*!/
var urlCode = "http://wx.chengdiankj.cn";/!*設備链接*!/*/

/*光速猫域名*/
/*var migUrl = "http://wx.monstercar.cn:8082/";/!*图片链接*!/
var urlPrefix = "http://wx.monstercar.cn";/!*普通链接*!/
var urlPay = "http://wx.monstercar.cn";/!*支付模块链接*!/
var urlCode = "http://wx.monstercar.cn";/!*設備链接*!/*/

/*超祥充域名*/
/*var migUrl = "http://fjcxc.yundianba.club:8082/";/!*图片链接*!/
var urlPrefix = "http://fjcxc.yundianba.club";/!*普通链接*!/
var urlPay = "http://fjcxc.yundianba.club";/!*支付模块链接*!/
var urlCode = "http://fjcxc.yundianba.club";/!*設備链接*!/*/

/*神电域名*/
/*var migUrl = "http://cdb.880750.com:8082/";/!*图片链接*!/
var urlPrefix = "http://cdb.880750.com";/!*普通链接*!/
var urlPay = "http://cdb.880750.com";/!*支付模块链接*!/
var urlCode = "http://cdb.880750.com";/!*設備链接*!/*/

/*钻老大域名*/
/*var migUrl = "http://wx.zuanlaoda.net:8082/";/!*图片链接*!/
var urlPrefix = "http://wx.zuanlaoda.net";/!*普通链接*!/
var urlPay = "http://wx.zuanlaoda.net";/!*支付模块链接*!/
var urlCode = "http://wx.zuanlaoda.net";/!*設備链接*!/*/

/*水备儿域名*/
// var migUrl = "http://wx.shuibeier.vip:8082/";/*图片链接*/
// var urlPrefix = "http://wx.shuibeier.vip";/*普通链接*/
// var urlPay = "http://wx.shuibeier.vip";/*支付模块链接*/
// var urlCode = "http://wx.shuibeier.vip";/*設備链接*/

/*英曼卡域名*/
/*var migUrl = "http://wx.inmanca.cn:8082/";/!*图片链接*!/
var urlPrefix = "http://wx.inmanca.cn";/!*普通链接*!/
var urlPay = "http://wx.inmanca.cn";/!*支付模块链接*!/
var urlCode = "http://wx.inmanca.cn";/!*設備链接*!/*/

/*采电*/
/*var migUrl = "http://wx.caidianbao.net:8082/";/!*图片链接*!/
var urlPrefix = "http://wx.caidianbao.net";/!*普通链接*!/
var urlPay = "http://wx.caidianbao.net";/!*支付模块链接*!/
var urlCode = "http://wx.caidianbao.net";/!*設備链接*!/*/

/*电巴巴*/
/*var migUrl = "http://wx.dianbaba.vip:8082/";/!*图片链接*!/
var urlPrefix = "http://wx.dianbaba.vip";/!*普通链接*!/
var urlPay = "http://wx.dianbaba.vip";/!*支付模块链接*!/
var urlCode = "http://wx.dianbaba.vip";/!*設備链接*!/*/

/*云电创*/
/*var migUrl = "http://ydc.yundianba.club:8082/";/!*图片链接*!/
var urlPrefix = "http://ydc.yundianba.club";/!*普通链接*!/
var urlPay = "http://ydc.yundianba.club";/!*支付模块链接*!/
var urlCode = "http://ydc.yundianba.club";/!*設備链接*!/*/

/*玖玖云*/
/*var migUrl = "http://wx.jiujiuyundian.com:8082/";/!*图片链接*!/
var urlPrefix = "http://wx.jiujiuyundian.com";/!*普通链接*!/
var urlPay = "http://wx.jiujiuyundian.com";/!*支付模块链接*!/
var urlCode = "http://wx.jiujiuyundian.com";/!*設備链接*!/*/

/*电创速充*/
/*var migUrl = "http://dcsc.yundianba.club:8082/";/!*图片链接*!/
var urlPrefix = "http://dcsc.yundianba.club";/!*普通链接*!/
var urlPay = "http://dcsc.yundianba.club";/!*支付模块链接*!/
var urlCode = "http://dcsc.yundianba.club";/!*設備链接*!/*/

/*锐得*/
/*var migUrl = "http://wx.redshare.vip:8082/";/!*图片链接*!/
var urlPrefix = "http://wx.redshare.vip";/!*普通链接*!/
var urlPay = "http://wx.redshare.vip";/!*支付模块链接*!/
var urlCode = "http://wx.redshare.vip";/!*設備链接*!/*/

/*喜电*/
/*var migUrl = "http://wx.xidianmacau.com:8082/";/!*图片链接*!/
var urlPrefix = "http://wx.xidianmacau.com";/!*普通链接*!/
var urlPay = "http://wx.xidianmacau.com";/!*支付模块链接*!/
var urlCode = "http://wx.xidianmacau.com";/!*設備链接*!/*/

/*电速充*/
/*var migUrl = "http://wx.diansuchong.com:8082/";/!*图片链接*!/
var urlPrefix = "http://wx.diansuchong.com";/!*普通链接*!/
var urlPay = "http://wx.diansuchong.com";/!*支付模块链接*!/
var urlCode = "http://wx.diansuchong.com";/!*設備链接*!/*/

/*万总*/
var migUrl = "http://app.redshare.vip:8082/";/*图片链接*/
var urlPrefix = "http://app.redshare.vip";/*普通链接*/
var urlPay = "http://app.redshare.vip";/*支付模块链接*/
var urlCode = "http://app.redshare.vip";/*設備链接*/

var orderPort = "8763";
var orderFullPath = urlPrefix + ":" + orderPort+"/";
$(function(){
    /*修改layui-this的方法*/
    $(".layui-nav-tree li").first().addClass('layui-this');
    var href = $(".layui-nav-tree li").first().find("a").attr("href")
    console.log(href);
    $('#main').attr("src",href);
    var adhref = urlPrefix+':8999/Pages/index';
    $("#adDevice").attr("href",adhref);
    layui.use(['element','layer'], function(){
        var element = layui.element
            ,layer = layui.layer;
        var loading = layer.load();
        layer.close(loading);
        $("#logout").click(function(){
            $.ajax({
                type: "POST",
                url: "/logout",
                data:{},
                success:function(backData){
                    if(backData.code == 3){
                        layer.msg("退出成功！");
                        window.location.href = "login.html";
                    }
                },
                error: function () {
                    layer.msg("请求错误");
                }
            })
        })
        // $.ajax({
        //     type: "POST",
        //     url: "/basic/getBasicById",
        //     data: {id : 1},
        //     xhrFields: {
        //         withCredentials: true
        //     },
        //     crossDomain: true,
        //     success: function(backData) {
        //         var name = backData.powerSysName;
        //         var logo = backData.basicLogo;
        //         $("#Ltitle").html(name+"管理系统");
        //         $("#footlink").html("@"+name);
        //         $(".home_logo").find("img").attr("src", logo);
        //         $(".home_logo").find("p").html(name+"后台管理");
        //         $("title").html(name+"后台管理系统");
        //         $("#logoImage").attr("src", migUrl+"/basic/downPictrue?pictrueName="+logo)
        //         layer.close(loading);
        //     },
        //     error: function(){
        //         alert('请求错误');
        //         layer.close(loading);
        //     }
        // });
        //
        // /*获取部门和名称*/
        // $.ajax({
        //     type: "POST",
        //     url: "/auth/login",
        //     data: {},
        //     xhrFields: {
        //         withCredentials: true
        //     },
        //     crossDomain: true,
        //     success: function(backData) {
        //         var depart = backData.loginUserDepartment;/*部门名称*/
        //         var name = backData.loginUserName;/*用户名称*/
        //         $("#truename").html(name);
        //         $("#part").html(depart);
        //         layer.close(loading);
        //     },
        //     error: function(){
        //         alert('请求错误');
        //         layer.close(loading);
        //     }
        // });
    });

	$("#show").hide();
	$(".top-main").show();
	$("#show").click(function(){
		$(this).hide();
		$("#hide").show();
		$(".top-main").fadeIn();
	})
	$("#hide").click(function(){
		$(this).hide();
		$("#show").show();
		$(".top-main").fadeOut();
	})

    $("#show1").hide();
    $(".top-main").show();
    $("#show1").click(function(){
        $(this).hide();
        $("#hide1").show();
        $(".top-main").fadeIn();
    })
    $("#hide1").click(function(){
        $(this).hide();
        $("#show1").show();
        $(".top-main").fadeOut();
    })

    $("#pageValue").blur(function(){
        $("#pageNum").val($(this).val());
    })
	$(".changLang").find("a").click(function(){
		var link = window.location.href;
		var lang = $(this).attr("data");
		console.log(link+','+lang);
        $.ajax({
            type: "POST",
            url: "/changeSessionLanauage",
            data: {lang: lang},
            xhrFields: {
                withCredentials: true
            },
            crossDomain: true,
            success: function(backData) {
            	console.log(backData);
                history.go(0);
            },
            error: function(){
                layer.msg('请求错误');
            }
        });
	})

    /*修改密码弹窗*/
    $("#change").click(function(){
        layer.open({
            type: 2,
            area: ['451px', '285px'],
            fixed: false, //不固定
            maxmin: true,
            title: '修改密码',
            content: 'changepassword.html'
        });
    })

});

function GetIframeQueryString(name) {
    var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');
    var r = window.parent.document.getElementById("main").contentWindow.location.search.substr(1).match(reg);
    if (r != null) {
        return decodeURI(r[2]);
    }
    return null;
}
//获得年月日得到日期oTime
function getMyDate(str){
    var oDate = new Date(str),
        oYear = oDate.getFullYear(),
        oMonth = oDate.getMonth()+1,
        oDay = oDate.getDate(),
        oHour = oDate.getHours(),
        oMin = oDate.getMinutes(),
        oSen = oDate.getSeconds(),
        oTime = oYear +'-'+ getzf(oMonth) +'-'+ getzf(oDay) +' '+ getzf(oHour) +':'+ getzf(oMin) +':'+getzf(oSen);//最后拼接时间
	return oTime;
};
/*格式化格林时间*/
function getTime(time){
    var str = time + '';
    var array = str.split('.');
    var str2 = array[0];
    str3 = str2.replace(/-/g,"/");
    console.log(str3)
    var d = new Date(str2);
    var year = d.getFullYear();
    var month = getzf(d.getMonth() + 1);
    var date = getzf(d.getDate());
    var hour = getzf(d.getHours());
    var minutes = getzf(d.getMinutes());
    var seconds = getzf(d.getSeconds());
    var fullTimes = new Array();
    fullTimes.push(year);
    fullTimes.push('-');
    fullTimes.push(month);
    fullTimes.push('-');
    fullTimes.push(date);
    fullTimes.push(' ');
    fullTimes.push(hour);
    fullTimes.push(':');
    fullTimes.push(minutes);
    fullTimes.push(':');
    fullTimes.push(seconds);
    return fullTimes.join('');
}
//补0操作
function getzf(num){
    if(parseInt(num) < 10){
        num = '0'+num;
    }
    return num;
}
/*序列化转json*/
$.fn.serializeObject = function() {
    var o = {};
    var a = this.serializeArray();
    $.each(a, function() {
        if (o[this.name]) {
            if (!o[this.name].push) {
                o[this.name] = [ o[this.name] ];
            }
            o[this.name].push(this.value || '');
        } else {
            o[this.name] = this.value || '';
        }
    });
    return o;
}